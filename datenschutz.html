<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Datenschutzerklärung - DISKURS Niederrhein</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <!-- Google Fonts for Retro-Futuristic Look -->
    <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;500;700;900&family=Exo+2:wght@300;400;500;600&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Exo 2', 'Arial', sans-serif;
            background: #000;
            color: white;
            overflow-x: hidden;
        }

        /* Fade-in effect for page load */
        .page-container {
            opacity: 0;
            animation: fadeInPage 1.5s ease-in-out forwards;
        }

        @keyframes fadeInPage {
            to {
                opacity: 1;
            }
        }

        /* Main Website */
        #main-website {
            min-height: 100vh;
            background: radial-gradient(ellipse at center, #000814 0%, #001d3d 40%, #000000 100%);
            position: relative;
            overflow: hidden;
        }

        /* Enhanced Animated Cosmic Dust */
        #main-website::before {
            content: '';
            position: fixed;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: 
                radial-gradient(1px 1px at 20px 30px, rgba(255,255,255,0.08), transparent),
                radial-gradient(2px 2px at 40px 70px, rgba(135,206,250,0.12), transparent),
                radial-gradient(1px 1px at 90px 40px, rgba(255,255,255,0.06), transparent),
                radial-gradient(1px 1px at 130px 80px, rgba(173,216,230,0.1), transparent),
                radial-gradient(2px 2px at 160px 30px, rgba(255,255,255,0.04), transparent),
                radial-gradient(1px 1px at 220px 120px, rgba(135,206,250,0.09), transparent),
                radial-gradient(2px 2px at 280px 40px, rgba(255,255,255,0.07), transparent),
                radial-gradient(1px 1px at 320px 180px, rgba(173,216,230,0.08), transparent);
            background-repeat: repeat;
            background-size: 350px 250px;
            animation: cosmicFlow 25s linear infinite;
            opacity: 0.7;
            z-index: 1;
            pointer-events: none;
            transition: transform 0.1s ease-out;
        }

        @keyframes cosmicFlow {
            0% { 
                transform: translateX(0) translateY(0) rotate(0deg);
                opacity: 0.7;
            }
            25% { 
                opacity: 0.5;
            }
            50% { 
                transform: translateX(-175px) translateY(-125px) rotate(180deg);
                opacity: 0.9;
            }
            75% { 
                opacity: 0.6;
            }
            100% { 
                transform: translateX(-350px) translateY(-250px) rotate(360deg);
                opacity: 0.7;
            }
        }

        /* Three.js Stars Container - Always in background */
        .main-website-stars {
            position: fixed;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: 1;
            pointer-events: none;
        }

        /* All content must be above starfield */
        .main-content {
            position: relative;
            z-index: 20;
        }

        /* Header - Retro-Futuristic Style */
        .header {
            position: fixed;
            top: 0;
            width: 100%;
            background: rgba(0, 8, 20, 0.9);
            backdrop-filter: blur(20px);
            border-bottom: 2px solid rgba(79, 172, 254, 0.3);
            box-shadow: 
                0 4px 20px rgba(0, 0, 0, 0.5),
                inset 0 1px 0 rgba(255, 255, 255, 0.1);
            z-index: 100;
            padding: 25px 0;
            height: 90px;
        }

        .nav {
            display: flex;
            justify-content: center;
            gap: 60px;
            max-width: 1100px;
            margin: 0 auto;
            width: 100%;
        }

        .nav a {
            color: white;
            text-decoration: none;
            font-family: 'Orbitron', monospace;
            font-size: 18px;
            font-weight: 500;
            letter-spacing: 1.5px;
            text-transform: uppercase;
            transition: all 0.4s ease;
            cursor: pointer;
            position: relative;
            padding: 8px 16px;
            border-radius: 6px;
        }

        .nav a:hover {
            color: #4facfe;
            text-shadow: 
                0 0 10px rgba(79, 172, 254, 0.8),
                0 0 20px rgba(79, 172, 254, 0.4);
            background: rgba(79, 172, 254, 0.1);
            box-shadow: 
                inset 0 0 10px rgba(79, 172, 254, 0.2),
                0 0 15px rgba(79, 172, 254, 0.3);
        }

        /* Hamburger Icon - Hidden on Desktop */
        .hamburger {
            display: none;
            flex-direction: column;
            cursor: pointer;
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            z-index: 101;
        }

        .hamburger span {
            width: 25px;
            height: 3px;
            background: white;
            margin: 3px 0;
            transition: 0.3s;
            border-radius: 2px;
        }

        /* Hamburger Animation when Active */
        .hamburger.active span:nth-child(1) {
            transform: rotate(-45deg) translate(-5px, 6px);
        }

        .hamburger.active span:nth-child(2) {
            opacity: 0;
        }

        .hamburger.active span:nth-child(3) {
            transform: rotate(45deg) translate(-5px, -6px);
        }

        /* Main Content - Enhanced Typography */
        .main-content {
            padding-top: 140px;
            padding-bottom: 60px;
            text-align: center;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: flex-start;
            align-items: center;
            max-width: 900px;
            margin: 0 auto;
            padding-left: 20px;
            padding-right: 20px;
        }

        .main-content h1 {
            font-family: 'Orbitron', monospace;
            font-size: 3.5rem;
            font-weight: 900;
            margin-bottom: 40px;
            letter-spacing: 4px;
            text-transform: uppercase;
            background: linear-gradient(135deg, #ffffff, #4facfe, #00f2fe);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 
                0 0 30px rgba(79, 172, 254, 0.5),
                0 0 60px rgba(79, 172, 254, 0.3);
            position: relative;
        }

        .main-content h1::after {
            content: '';
            position: absolute;
            bottom: -10px;
            left: 50%;
            transform: translateX(-50%);
            width: 100px;
            height: 2px;
            background: linear-gradient(90deg, transparent, #4facfe, transparent);
            box-shadow: 0 0 10px #4facfe;
        }

        .datenschutz-content {
            text-align: left;
            line-height: 1.8;
            font-size: 1rem;
            color: #e0e0e0;
            max-width: 100%;
        }

        .datenschutz-content h2 {
            font-family: 'Orbitron', monospace;
            font-size: 1.8rem;
            margin-bottom: 20px;
            margin-top: 40px;
            font-weight: 700;
            color: #4facfe;
            letter-spacing: 2px;
            text-shadow: 
                0 0 15px rgba(79, 172, 254, 0.6),
                0 4px 8px rgba(0, 0, 0, 0.5);
        }

        .datenschutz-content h2:first-of-type {
            margin-top: 0;
        }

        .datenschutz-content h3 {
            font-family: 'Orbitron', monospace;
            font-size: 1.3rem;
            margin-bottom: 15px;
            margin-top: 25px;
            font-weight: 600;
            color: #667eea;
            letter-spacing: 1px;
            text-shadow: 0 0 10px rgba(102, 126, 234, 0.5);
        }

        .datenschutz-content p {
            font-family: 'Exo 2', sans-serif;
            margin-bottom: 15px;
            font-weight: 400;
            text-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
        }

        .datenschutz-content ul {
            margin: 15px 0;
            padding-left: 25px;
        }

        .datenschutz-content li {
            font-family: 'Exo 2', sans-serif;
            margin-bottom: 8px;
            font-weight: 400;
            color: #d0d0d0;
        }

        .datenschutz-content a {
            color: #4facfe;
            text-decoration: none;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .datenschutz-content a:hover {
            color: #00f2fe;
            text-decoration: underline;
            text-shadow: 0 0 8px rgba(79, 172, 254, 0.6);
        }

        .datenschutz-content strong {
            color: #fff;
            font-weight: 600;
        }

        /* Responsive */
        @media (max-width: 768px) {
            .main-content h1 {
                font-size: 2.8rem;
                letter-spacing: 2px;
            }
            
            .hamburger {
                display: flex;
            }
            
            .nav {
                position: fixed;
                top: 90px;
                right: -100%;
                width: 100%;
                height: calc(100vh - 90px);
                background: rgba(0, 8, 20, 0.98);
                backdrop-filter: blur(20px);
                flex-direction: column;
                justify-content: flex-start;
                align-items: center;
                padding-top: 60px;
                transition: right 0.3s ease-in-out;
                gap: 40px;
            }
            
            .nav.active {
                right: 0;
            }
            
            .nav a {
                font-size: 22px;
                padding: 20px;
                width: 80%;
                text-align: center;
                border-bottom: 1px solid rgba(79, 172, 254, 0.2);
            }

            .datenschutz-content {
                font-size: 0.95rem;
            }
            .datenschutz-content h2 {
                font-size: 1.5rem;
            }
            .datenschutz-content h3 {
                font-size: 1.2rem;
            }
        }
    </style>
</head>
<body>
    <div class="page-container">
        <!-- Main Website -->
        <div id="main-website">
            <!-- Enhanced Stars Container -->
            <div class="main-website-stars" id="mainWebsiteStars"></div>
            
            <!-- Header -->
            <header class="header">
                <div class="hamburger" id="hamburger">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
                <nav class="nav">
                    <a href="index.html">Startseite</a>
                    <a href="index.html#mission">Demokratiebildung</a>
                    <a href="index.html#raumstation">Raumsta<span style="color: #4facfe;">ti</span>on</a>
                    <a href="index.html#paedagogik">Kinderperspektive</a>
                    <a href="index.html#team">Team</a>
                </nav>
            </header>

            <!-- Main Content -->
            <main class="main-content">
                
                <h1>Datenschutzerklärung</h1>
                
                <div class="datenschutz-content">
                    <h2>1. Verantwortlicher</h2>
                    <p>
                        <strong>Nieke Dagmar und Nieke Till GbR</strong><br>
                        Borgheeser Weg 49<br>
                        46446 Emmerich<br>
                        Deutschland<br><br>
                        
                        Telefon: <a href="tel:+491734089776">+491734089776</a><br>
                        E-Mail: <a href="mailto:desk@diskurs-niederrhein.de">desk@diskurs-niederrhein.de</a>
                    </p>

                    <h2>2. Art und Umfang der Datenverarbeitung</h2>
                    <p>Diese Website ist eine statische Internetpräsenz, die grundsätzlich ohne aktive Erhebung personenbezogener Daten auskommt. Es werden keine Cookies gesetzt, keine Tracking-Tools verwendet und keine Analyse-Software eingesetzt.</p>

                    <h3>2.1 Automatisch erhobene Daten (Server-Logfiles)</h3>
                    <p>Beim Besuch unserer Website werden automatisch Informationen an den Server übermittelt. Diese werden in sogenannten Server-Logfiles gespeichert. Folgende Informationen werden dabei erfasst:</p>
                    <ul>
                        <li>IP-Adresse des anfragenden Rechners</li>
                        <li>Datum und Uhrzeit des Zugriffs</li>
                        <li>Name und URL der abgerufenen Datei</li>
                        <li>Website, von der aus der Zugriff erfolgt (Referrer-URL)</li>
                        <li>Verwendeter Browser und ggf. das Betriebssystem Ihres Rechners sowie der Name Ihres Access-Providers</li>
                    </ul>
                    
                    <p><strong>Rechtsgrundlage:</strong> Art. 6 Abs. 1 lit. f DSGVO (berechtigtes Interesse an der ordnungsgemäßen Bereitstellung der Website und Gewährleistung der IT-Sicherheit)</p>
                    
                    <p><strong>Zweck der Verarbeitung:</strong> Diese Daten dienen ausschließlich:</p>
                    <ul>
                        <li>Der technischen Bereitstellung der Website</li>
                        <li>Der Gewährleistung der Systemsicherheit und -stabilität</li>
                        <li>Der Abwehr von Angriffen auf unsere IT-Systeme</li>
                    </ul>
                    
                    <p><strong>Speicherdauer:</strong> Diese Daten werden automatisch nach 30 Tagen gelöscht.</p>

                    <h3>2.2 Externe Schriftarten</h3>
                    <p><strong>Hinweis:</strong> Falls externe Schriftarten (z.B. Google Fonts) geladen werden, werden beim Abruf dieser Schriftarten Ihre IP-Adresse und weitere technische Daten an den Anbieter übertragen. Wir bemühen uns, ausschließlich lokal gehostete Schriftarten zu verwenden, um solche Datenübertragungen zu vermeiden.</p>

                    <h2>3. Hosting</h2>
                    <p>Unsere Website wird bei <strong>Netlify Inc.</strong> gehostet. Netlify kann im Rahmen des Hostings Zugriff auf die Server-Logfiles haben.</p>
                    
                    <p><strong>Anbieter:</strong><br>
                    Netlify Inc.<br>
                    512 2nd Street, Floor 2<br>
                    San Francisco, CA 94107<br>
                    USA</p>
                    
                    <p><strong>Datenschutzerklärung des Anbieters:</strong> <a href="https://www.netlify.com/privacy/" target="_blank" rel="noopener noreferrer">https://www.netlify.com/privacy/</a></p>
                    
                    <p><strong>Rechtsgrundlage:</strong> Art. 6 Abs. 1 lit. f DSGVO (berechtigtes Interesse an einer zuverlässigen und sicheren Bereitstellung unserer Website)</p>

                    <h2>4. Externe Links</h2>
                    <p>Unsere Website enthält Links zu externen Websites Dritter (z.B. Instagram, LinkedIn, wissenschaftliche Artikel). Beim Klick auf diese Links verlassen Sie unsere Website und gelangen auf die externe Seite. Wir haben keinen Einfluss auf den Inhalt und die Datenschutzpraktiken dieser externen Websites und übernehmen hierfür keine Verantwortung. Informieren Sie sich über die Datenschutzbestimmungen der jeweiligen Anbieter.</p>

                    <h2>5. Keine Verwendung von Cookies</h2>
                    <p>Diese Website verwendet grundsätzlich keine Cookies. Es werden weder technisch notwendige noch funktionale oder Marketing-Cookies gesetzt. Sie können unsere Website vollständig nutzen, ohne dass Cookies auf Ihrem Endgerät gespeichert werden.</p>

                    <h2>6. Keine Tracking-Tools oder Analyse-Software</h2>
                    <p>Wir verwenden bewusst keine Tracking-Tools, Analyse-Software (wie Google Analytics) oder sonstige Tools zur Erfassung des Nutzerverhaltens. Es findet keine Profilerstellung oder verhaltensbasierte Auswertung statt.</p>

                    <h2>7. Kontaktaufnahme</h2>
                    <p>Bei einer Kontaktaufnahme per E-Mail werden die von Ihnen mitgeteilten Daten (E-Mail-Adresse, ggf. Name und Telefonnummer) von uns gespeichert, um Ihre Fragen zu beantworten.</p>
                    
                    <p><strong>Rechtsgrundlage:</strong> Art. 6 Abs. 1 lit. b DSGVO (Durchführung vorvertraglicher Maßnahmen) oder Art. 6 Abs. 1 lit. f DSGVO (berechtigtes Interesse an der Beantwortung Ihrer Anfrage)</p>
                    
                    <p><strong>Speicherdauer:</strong> Die Daten werden gelöscht, sobald sie für die Erreichung des Zweckes ihrer Erhebung nicht mehr erforderlich sind. Für die über das Kontaktformular erfassten personenbezogenen Daten ist dies dann der Fall, wenn die jeweilige Konversation mit dem Nutzer beendet ist.</p>

                    <h2>8. Ihre Rechte als betroffene Person</h2>
                    <p>Sie haben nach der Datenschutz-Grundverordnung verschiedene Rechte:</p>
                    
                    <h3>8.1 Auskunftsrecht (Art. 15 DSGVO)</h3>
                    <p>Sie haben das Recht, Auskunft über die von uns zu Ihrer Person gespeicherten personenbezogenen Daten zu verlangen.</p>
                    
                    <h3>8.2 Berichtigungsrecht (Art. 16 DSGVO)</h3>
                    <p>Sie haben das Recht, die Berichtigung unrichtiger oder die Vervollständigung richtiger Daten zu verlangen.</p>
                    
                    <h3>8.3 Löschungsrecht (Art. 17 DSGVO)</h3>
                    <p>Sie haben das Recht, die Löschung Ihrer personenbezogenen Daten zu verlangen, sofern die gesetzlichen Voraussetzungen hierfür vorliegen.</p>
                    
                    <h3>8.4 Einschränkungsrecht (Art. 18 DSGVO)</h3>
                    <p>Sie haben das Recht, die Einschränkung der Verarbeitung Ihrer personenbezogenen Daten zu verlangen.</p>
                    
                    <h3>8.5 Widerspruchsrecht (Art. 21 DSGVO)</h3>
                    <p>Sie haben das Recht, aus Gründen, die sich aus Ihrer besonderen Situation ergeben, jederzeit gegen die Verarbeitung Sie betreffender personenbezogener Daten Widerspruch einzulegen.</p>
                    
                    <h3>8.6 Datenübertragbarkeit (Art. 20 DSGVO)</h3>
                    <p>Sie haben das Recht, die Sie betreffenden personenbezogenen Daten in einem strukturierten, gängigen und maschinenlesbaren Format zu erhalten.</p>
                    
                    <p><strong>Kontakt für die Geltendmachung Ihrer Rechte:</strong><br>
                    E-Mail: <a href="mailto:desk@diskurs-niederrhein.de">desk@diskurs-niederrhein.de</a></p>

                    <h2>9. Beschwerderecht</h2>
                    <p>Sie haben das Recht, sich bei einer Datenschutz-Aufsichtsbehörde über die Verarbeitung Ihrer personenbezogenen Daten durch uns zu beschweren. Die für uns zuständige Aufsichtsbehörde ist:</p>
                    
                    <p><strong>Landesbeauftragte für Datenschutz und Informationsfreiheit Nordrhein-Westfalen</strong><br>
                    Kavalleriestraße 2-4<br>
                    40213 Düsseldorf<br>
                    Telefon: 0211/38424-0<br>
                    E-Mail: poststelle@ldi.nrw.de</p>

                    <h2>10. Datensicherheit</h2>
                    <p>Wir treffen nach Maßgabe des Art. 32 DSGVO unter Berücksichtigung des Stands der Technik, der Implementierungskosten und der Art, des Umfangs, der Umstände und der Zwecke der Verarbeitung sowie der unterschiedlichen Eintrittswahrscheinlichkeit und Schwere des Risikos für die Rechte und Freiheiten natürlicher Personen, geeignete technische und organisatorische Maßnahmen, um ein dem Risiko angemessenes Schutzniveau zu gewährleisten.</p>

                    <h2>11. Änderungen dieser Datenschutzerklärung</h2>
                    <p>Wir behalten uns vor, diese Datenschutzerklärung von Zeit zu Zeit zu aktualisieren, um sie an geänderte Rechtslagen oder bei Änderungen des Dienstes sowie der Datenverarbeitung anzupassen. Für Ihren erneuten Besuch gilt dann die neue Datenschutzerklärung.</p>

                    <p style="margin-top: 40px; font-size: 0.9rem; color: rgba(255,255,255,0.6);">
                        <strong>Stand:</strong> Juli 2025
                    </p>
                </div>
            </main>
        </div>
    </div>

    <script>
        // Global storage for starfield
        let starfieldScene, starfieldCamera, starfieldRenderer, starfieldStars, cosmicDustLayers;

        // Create round star texture
        function createRoundStarTexture() {
            const canvas = document.createElement('canvas');
            canvas.width = 64;
            canvas.height = 64;
            const context = canvas.getContext('2d');

            // Create perfect circle gradient for round stars
            const gradient = context.createRadialGradient(32, 32, 0, 32, 32, 32);
            gradient.addColorStop(0, 'rgba(255, 255, 255, 1)');
            gradient.addColorStop(0.2, 'rgba(255, 255, 255, 0.9)');
            gradient.addColorStop(0.4, 'rgba(255, 255, 255, 0.7)');
            gradient.addColorStop(0.7, 'rgba(255, 255, 255, 0.3)');
            gradient.addColorStop(1, 'rgba(255, 255, 255, 0)');

            context.fillStyle = gradient;
            context.fillRect(0, 0, 64, 64);

            return new THREE.CanvasTexture(canvas);
        }

        // Create procedural dust texture
        function createDustTexture() {
            const canvas = document.createElement('canvas');
            canvas.width = 128;
            canvas.height = 128;
            const context = canvas.getContext('2d');
            
            // Create radial gradient for soft dust particle
            const gradient = context.createRadialGradient(64, 64, 0, 64, 64, 64);
            gradient.addColorStop(0, 'rgba(255, 255, 255, 0.8)');
            gradient.addColorStop(0.2, 'rgba(255, 255, 255, 0.6)');
            gradient.addColorStop(0.4, 'rgba(255, 255, 255, 0.3)');
            gradient.addColorStop(0.7, 'rgba(255, 255, 255, 0.1)');
            gradient.addColorStop(1, 'rgba(255, 255, 255, 0)');
            
            context.fillStyle = gradient;
            context.fillRect(0, 0, 128, 128);
            
            return new THREE.CanvasTexture(canvas);
        }

        // Create Three.js Starfield Background with Cosmic Dust
        function createThreeJSStarfield() {
            const container = document.getElementById('mainWebsiteStars');
            
            // Create Three.js scene for starfield
            starfieldScene = new THREE.Scene();
            starfieldCamera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 3000);
            starfieldRenderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
            
            starfieldRenderer.setSize(window.innerWidth, window.innerHeight);
            starfieldRenderer.setClearColor(0x000000, 0);
            container.appendChild(starfieldRenderer.domElement);
            
            // Reduce complexity on mobile for performance
            const isMobile = window.innerWidth < 768;
            const multiplier = isMobile ? 0.6 : 1.0;
            
            // Balanced star distribution
            const starCounts = [
                { count: Math.floor(600 * multiplier), size: 2.8, color: 0xffffff, intensity: 1.4, layer: 'near' },
                { count: Math.floor(800 * multiplier), size: 2.2, color: 0x4facfe, intensity: 1.3, layer: 'near' },
                { count: Math.floor(1000 * multiplier), size: 1.8, color: 0xffffff, intensity: 1.2, layer: 'mid' },
                { count: Math.floor(900 * multiplier), size: 1.6, color: 0x667eea, intensity: 1.1, layer: 'mid' },
                { count: Math.floor(700 * multiplier), size: 1.4, color: 0x87ceeb, intensity: 1.0, layer: 'mid' },
                { count: Math.floor(400 * multiplier), size: 1.2, color: 0xffd700, intensity: 0.9, layer: 'far' },
                { count: Math.floor(300 * multiplier), size: 1.0, color: 0xffffff, intensity: 0.8, layer: 'far' }
            ];
            
            starfieldStars = [];

            const dustTexture = createDustTexture();
            const roundStarTexture = createRoundStarTexture();

            starCounts.forEach((starType, typeIndex) => {
                const starGeometry = new THREE.BufferGeometry();
                const starVertices = [];
                const starColors = [];
                const starSizes = [];
                
                // Layer-based Z positioning for better depth
                let zRange;
                switch(starType.layer) {
                    case 'near': zRange = [-300, -50]; break;
                    case 'mid': zRange = [-800, -300]; break;
                    case 'far': zRange = [-1500, -800]; break;
                }
                
                for (let i = 0; i < starType.count; i++) {
                    const x = (Math.random() - 0.5) * 3000;
                    const y = (Math.random() - 0.5) * 3000;
                    const z = Math.random() * (zRange[1] - zRange[0]) + zRange[0];
                    
                    starVertices.push(x, y, z);
                    
                    const color = new THREE.Color(starType.color);
                    const variation = 0.3;
                    color.r = Math.min(1, color.r + (Math.random() - 0.5) * variation);
                    color.g = Math.min(1, color.g + (Math.random() - 0.5) * variation);
                    color.b = Math.min(1, color.b + (Math.random() - 0.5) * variation);
                    
                    starColors.push(color.r, color.g, color.b);
                    
                    const depthFactor = Math.abs(z) / 1500;
                    const size = starType.size * (1.2 - depthFactor * 0.7) + (Math.random() - 0.5) * 1.0;
                    starSizes.push(Math.max(0.5, size));
                }
                
                starGeometry.setAttribute('position', new THREE.Float32BufferAttribute(starVertices, 3));
                starGeometry.setAttribute('color', new THREE.Float32BufferAttribute(starColors, 3));
                starGeometry.setAttribute('size', new THREE.Float32BufferAttribute(starSizes, 1));
                
                const useRoundTexture = starType.layer === 'near' || starType.layer === 'mid';
                const starMaterial = new THREE.PointsMaterial({
                    size: starType.size,
                    sizeAttenuation: true,
                    vertexColors: true,
                    transparent: true,
                    opacity: starType.intensity,
                    blending: THREE.AdditiveBlending,
                    alphaTest: 0.01,
                    map: useRoundTexture ? roundStarTexture : null
                });
                
                const stars = new THREE.Points(starGeometry, starMaterial);
                starfieldScene.add(stars);
                starfieldStars.push({
                    mesh: stars,
                    baseIntensity: starType.intensity,
                    rotationSpeed: (Math.random() + 0.5) * 0.0003,
                    twinkleSpeed: (Math.random() + 0.5) * 0.015,
                    typeIndex: typeIndex,
                    layer: starType.layer,
                    parallaxFactor: starType.layer === 'near' ? 1.2 : starType.layer === 'mid' ? 0.8 : 0.4
                });
            });
            
            // CREATE COSMIC DUST LAYERS
            cosmicDustLayers = [];
            
            const dustConfigs = [
                { count: Math.floor(80 * multiplier), size: 50, color: 0x4facfe, opacity: 0.15, layer: 'near', speed: 0.8 },
                { count: Math.floor(120 * multiplier), size: 35, color: 0x667eea, opacity: 0.12, layer: 'mid', speed: 0.5 },
                { count: Math.floor(100 * multiplier), size: 25, color: 0x87ceeb, opacity: 0.08, layer: 'far', speed: 0.3 },
                { count: Math.floor(60 * multiplier), size: 80, color: 0xffffff, opacity: 0.06, layer: 'near', speed: 1.0 }
            ];
            
            dustConfigs.forEach((dustType, index) => {
                const dustGeometry = new THREE.BufferGeometry();
                const dustVertices = [];
                const dustColors = [];
                const dustSizes = [];
                
                let zRange;
                switch(dustType.layer) {
                    case 'near': zRange = [-200, -30]; break;
                    case 'mid': zRange = [-600, -200]; break;
                    case 'far': zRange = [-1200, -600]; break;
                }
                
                for (let i = 0; i < dustType.count; i++) {
                    const x = (Math.random() - 0.5) * 2500;
                    const y = (Math.random() - 0.5) * 2500;
                    const z = Math.random() * (zRange[1] - zRange[0]) + zRange[0];
                    
                    dustVertices.push(x, y, z);
                    
                    const color = new THREE.Color(dustType.color);
                    const warmth = Math.random() * 0.2;
                    color.r = Math.min(1, color.r + warmth);
                    color.g = Math.min(1, color.g + warmth * 0.5);
                    
                    dustColors.push(color.r, color.g, color.b);
                    
                    const size = dustType.size + (Math.random() - 0.5) * 20;
                    dustSizes.push(Math.max(10, size));
                }
                
                dustGeometry.setAttribute('position', new THREE.Float32BufferAttribute(dustVertices, 3));
                dustGeometry.setAttribute('color', new THREE.Float32BufferAttribute(dustColors, 3));
                dustGeometry.setAttribute('size', new THREE.Float32BufferAttribute(dustSizes, 1));
                
                const dustMaterial = new THREE.PointsMaterial({
                    size: dustType.size,
                    sizeAttenuation: true,
                    vertexColors: true,
                    transparent: true,
                    opacity: dustType.opacity,
                    blending: THREE.AdditiveBlending,
                    map: dustTexture,
                    alphaTest: 0.001
                });
                
                const dust = new THREE.Points(dustGeometry, dustMaterial);
                starfieldScene.add(dust);
                cosmicDustLayers.push({
                    mesh: dust,
                    baseOpacity: dustType.opacity,
                    swaySpeed: dustType.speed * 0.0002,
                    driftSpeed: dustType.speed * 0.0001,
                    layer: dustType.layer,
                    parallaxFactor: dustType.layer === 'near' ? 1.5 : dustType.layer === 'mid' ? 1.0 : 0.6
                });
            });
            
            starfieldCamera.position.z = 50;
            animateStarfield();
        }
        
        // Animate the starfield and cosmic dust
        function animateStarfield() {
            if (!starfieldRenderer || !starfieldScene || !starfieldCamera) return;
            
            requestAnimationFrame(animateStarfield);
            
            const time = Date.now() * 0.001;
            
            starfieldStars.forEach((starGroup, index) => {
                starGroup.mesh.rotation.y += starGroup.rotationSpeed;
                starGroup.mesh.rotation.z += starGroup.rotationSpeed * 0.3;
                
                const twinkle = Math.sin(time * starGroup.twinkleSpeed + index * 1.5) * 0.4 + 0.8;
                const pulse = Math.cos(time * starGroup.twinkleSpeed * 0.7 + index) * 0.2 + 0.9;
                starGroup.mesh.material.opacity = starGroup.baseIntensity * twinkle * pulse;
            });
            
            if (cosmicDustLayers) {
                cosmicDustLayers.forEach((dustLayer, index) => {
                    dustLayer.mesh.rotation.y += dustLayer.swaySpeed;
                    dustLayer.mesh.rotation.z += dustLayer.driftSpeed;
                    
                    const breathe = Math.sin(time * 0.3 + index * 2) * 0.3 + 0.7;
                    const drift = Math.cos(time * 0.2 + index * 1.2) * 0.2 + 0.8;
                    dustLayer.mesh.material.opacity = dustLayer.baseOpacity * breathe * drift;
                    
                    dustLayer.mesh.position.x = Math.sin(time * dustLayer.driftSpeed * 5 + index) * 10;
                    dustLayer.mesh.position.y = Math.cos(time * dustLayer.driftSpeed * 3 + index) * 8;
                });
            }
            
            starfieldRenderer.render(starfieldScene, starfieldCamera);
        }
        
        // Handle starfield parallax scrolling
        function updateStarfieldScroll() {
            if (!starfieldCamera) return;
            
            const scrollY = window.scrollY;
            
            starfieldCamera.position.y = -scrollY * 0.8;
            starfieldCamera.position.z = 50 + scrollY * 0.2;
            
            const scrollVelocity = scrollY * 0.0008;
            starfieldCamera.rotation.z = Math.sin(scrollVelocity) * 0.03;
            starfieldCamera.rotation.x = scrollVelocity * 0.05;
            
            starfieldStars.forEach(starGroup => {
                const parallax = scrollY * starGroup.parallaxFactor * 0.5;
                starGroup.mesh.position.y = -parallax;
            });
            
            if (cosmicDustLayers) {
                cosmicDustLayers.forEach(dustLayer => {
                    const dustParallax = scrollY * dustLayer.parallaxFactor * 0.3;
                    dustLayer.mesh.position.y = -dustParallax * 0.7;
                });
            }
        }

        // Mobile Hamburger Menu
        function initMobileMenu() {
            const hamburger = document.getElementById('hamburger');
            const nav = document.querySelector('.nav');

            if (hamburger && nav) {
                hamburger.addEventListener('click', () => {
                    hamburger.classList.toggle('active');
                    nav.classList.toggle('active');
                });

                const navLinks = nav.querySelectorAll('a');
                navLinks.forEach(link => {
                    link.addEventListener('click', () => {
                        hamburger.classList.remove('active');
                        nav.classList.remove('active');
                    });
                });

                document.addEventListener('click', (e) => {
                    if (!hamburger.contains(e.target) && !nav.contains(e.target)) {
                        hamburger.classList.remove('active');
                        nav.classList.remove('active');
                    }
                });
            }
        }

        // Handle window resize for Three.js
        window.addEventListener('resize', function() {
            if (starfieldRenderer && starfieldCamera) {
                starfieldCamera.aspect = window.innerWidth / window.innerHeight;
                starfieldCamera.updateProjectionMatrix();
                starfieldRenderer.setSize(window.innerWidth, window.innerHeight);
            }
        });

        // Add scroll listener for starfield parallax
        window.addEventListener('scroll', updateStarfieldScroll, { passive: true });

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            createThreeJSStarfield();
            initMobileMenu();
        });
    </script>
</body>
</html>
